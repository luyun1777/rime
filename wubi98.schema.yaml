# Rime schema settings
# encoding: utf-8

schema:
  schema_id: wubi98
  name: "äº”ç¬”98"
  version: "0.21"
  author:
    - ç™¼æ˜äºº ç‹æ°¸æ°‘å…ˆç”Ÿ
  description: |
    äº”ç­†å­—å‹98ç‰ˆ
    æ•² z éµé€²å…¥æ‹¼éŸ³åæŸ¥
  dependencies:
    - pinyin_simp
    - terra_pinyin
    - core2022

switches:
  - name: ascii_mode
    states: [ä¸­æ–‡, è¥¿æ–‡]
    reset: 1
  - name: simplification
    reset: 0
    states: [ç®€ä½“, ç¹ä½“]
  - name: tradition
    reset: 0
    states: [ç¹é«”, ç°¡é«”]
  - name: single_char_only
    reset: 0
    states: [è¯, å•]
  # - name: extended_charset
  #   states: [å¸¸ç”¨, å¢å»£]
  #   reset: 0
  - name: extended_char # è‡ªå®šä¹‰å­—é›†
    reset: 1
    states: [å…¨å­—é›†, å¸¸ç”¨å­—]
  - name: chaifen
    reset: 0
    states: [æ‹†éš, æ‹†æ˜¾]
  - name: emoji_cn # emojiæ»¤é•œ
    reset: 0
    states: [ğŸˆš, ğŸˆ¶]
  - name: pinyin # æ‹¼éŸ³æ»¤é•œ
    reset: 0
    states: [æ‹¼, pÄ«n]
  - name: charset_comment_filter # å­—ç¬¦é›†æç¤º
    reset: 0
    states: [UåŒºå…³, UåŒºå¼€]
  - name: udpf_switch
    reset: 0
    states: [Uç¼–å…³, Uç¼–å¼€]
  - name: full_shape
    states: [åŠ, å…¨]
    reset: 0
  - name: ascii_punct
    states: ["ã€‚ï¼Œ", "ï¼ï¼Œ"]
    reset: 0

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - lua_processor@select_character
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator
    - table_translator
    - lua_translator@date_translator
    - lua_translator@lunar_translator
    - lua_translator@calculator_translator
    - lua_translator@unicode_translator
    - lua_translator@number_translator
    - history_translator@historyZ

  filters:
    - lua_filter@core2022 # è‡ªå®šä¹‰å­—é›†è¿‡æ»¤lua
    # - lua_filter@charset_filter # è‡ªå®šä¹‰å­—é›†è¿‡æ»¤lua
    # - simplifier
    - simplifier@simplification
    - simplifier@tradition
    - simplifier@pinyin # æ‹¼éŸ³æ»¤é•œ
    - simplifier@chaifen # æ‹†åˆ†æ»¤é•œ
    - simplifier@emoji_cn # è¡¨æƒ…æ»¤é•œ
    - lua_filter@single_char_only
    - lua_filter@unicode_display_filter # lua unicodeæ˜¾ç¤ºæ»¤é•œ
    - lua_filter@single_char_first_filter
    - lua_filter@reverse_lookup_filter
    - lua_filter@charset_comment_filter
    - uniquifier

speller:
  max_code_length: 4
  auto_select: false
  auto_select_pattern: ^\w{4}$
  auto_clear: max_length # manual|auto|max_length ç©ºç æŒ‰ä¸‹ä¸€é”®ç¡®è®¤æ¸…å±|ç©ºç è‡ªåŠ¨æ¸…|è¾¾åˆ°æœ€é•¿ç æ—¶åç é¡¶ä¸Šæ¸…å±
  algebra:  # ä¸‡èƒ½zé”®æ‹¼å†™å¤„ç†ï¼Œzç¬¦å·åŒ¹é…ä»»æ„å­—ç¬¦
    - derive/^(...).$/$1z/
    - derive/^(..).(.*)$/$1z$2/
    - derive/^(.).(.*)$/$1z$2/
    # - derive/^.(.*)$/z$1/  # å¼€å¯æœ¬è¡Œå°†ä¸zé”®é‡å¤ä¸Šå±å†²çª

translator:
  dictionary: wubi98
  max_phrase_length: 4
  enable_completion: true # é€é”®æç¤º
  enable_charset_filter: false # å¼€å¯å­—ç¬¦é›†è¿‡æ»¤
  # è¦å¼€å¯é€ è¯ï¼Œå°†ä»¥ä¸‹å››é¡¹è®¾ä¸ºtrue
  enable_encoder: true # è‡ªåŠ¨é€ è¯
  enable_sentence: false # å¥å­è¾“å…¥æ¨¡å¼
  encode_commit_history: false # æ˜¯å¦å¯¹å·²ä¸Šå±è¯è‡ªåŠ¨æˆè¯ï¼ˆä»… table_translator æœ‰æ•ˆï¼‰
  enable_user_dict: false # æ˜¯å¦å¼€å¯ç”¨æˆ·è¯å…¸ï¼ˆç”¨æˆ·è¯å…¸è®°å½•åŠ¨æ€å­—è¯é¢‘ï¼Œç”¨æˆ·è¯ï¼‰
  disable_user_dict_for_patterns:
    - "^z.*$"
    - "^[a-y]{1,3}$"

historyZ:
  input: z
  size: 3 # é‡å¤å‰å‡ æ¬¡ä¸Šå±
  initial_quality: 1 # é¦–é€‰

reverse_lookup:
  dictionary: pinyin_simp
  prefix: "z"
  suffix: "'"
  tips: ã€”æ‹¼éŸ³ã€•
  preedit_format:
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/

punctuator:
  import_preset: symbols

key_binder:
  import_preset: default
  bindings:
    - { accept: "Control+o", toggle: simplification, when: composing } # ç®€ç¹å¼€å…³
    - { accept: "Control+Shift+O", toggle: tradition, when: composing } # ç¹ç®€å¼€å…³
    - { accept: "Control+d", toggle: single_char_only, when: composing } # å•å­—å¼€å…³
    - { accept: "Control+p", toggle: pinyin, when: composing } # PC æ‹¼éŸ³å¼€å…³
    - { accept: "Control+i", toggle: emoji_cn, when: composing } # PC emojiå¼€å…³
    - { accept: "Control+u", toggle: charset_comment_filter, when: composing } # PC Unicodeåˆ†åŒºå¼€å…³
    - { accept: "Control+y", toggle: udpf_switch, when: composing } # PC Unicodeç¼–ç å¼€å…³
    - { accept: "Control+h", toggle: extended_char, when: composing } # PC è‡ªå®šå­—é›†å¼€å…³
    # - { accept: "Control+Shift+H", toggle: extended_char, when: composing } # PC è‡ªå®šå­—é›†å¼€å…³2
    - { accept: "Control+j", toggle: chaifen, when: composing } # PC æ‹†åˆ†æ»¤é•œå¼€å…³
recognizer:
  import_preset: default

# â†“ç®€ç¹(+éƒ¨åˆ†å¼‚ä½“)æ»¤é•œ
simplification: # â‡©å››é€‰ä¸€
  opencc_config: st_tu.json # ç®€ â¡ ç¹Â·å¼‚ï¼ˆç§ƒç‰ˆæ ‡å‡†ï¼‰
  # opencc_config: s2tw.json # ç®€ â¡ å°æ¹¾æ­£ä½“
  # opencc_config: s2hk.json    # ç®€ â¡ é¦™æ¸¯ç¹ä½“
  # opencc_config: s2twp.json  # ç®€ â¡ å°æ¹¾æ­£ä½“ï¼ˆå«å¸¸ç”¨è¯æ±‡å¦‚ï¼šè½¯ä½“â†’è»Ÿé«”ã€é¼ æ ‡â†’æ»‘é¼ ï¼‰
  option_name: simplification
  tips: all # allå­—è¯|charå­—
# â†“ç¹ç®€æ»¤é•œ
tradition:
  opencc_config: t2s.json #  ç¹-> ç®€
  option_name: tradition
  tips: all

# â†“emojiè¡¨æƒ…æ»¤é•œ
emoji_cn:
  opencc_config: emoji.json
  option_name: emoji_cn
  tips: all
# â†“æ‹¼éŸ³æ»¤é•œ
pinyin:
  opencc_config: pinyin.json
  option_name: pinyin
  show_in_comment: true #ä½œä¸ºæ³¨è§£åœ¨åé¢æ˜¾ç¤º
  comment_format:
    - "xform/&nbsp;/ /"
    # - "xform/^/ /"
    - "xform/ï¼ˆ//"
    - "xform/ï¼‰//"
  tips: all
chaifen:
  opencc_config: wb98_cf.json
  option_name: chaifen
  show_in_comment: true
  comment_format:
    - "xform/&nbsp;/ /"
  tips: all # åªç»™å•å­—åŠ æ»¤é•œï¼Œæ”¹ä¸º char ã€‚ è¯ä¹Ÿæ˜¾ç¤ºï¼Œæ”¹ä¸º all
